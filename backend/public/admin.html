<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Painel Admin — JE Automóveis</title>
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="/admin.css">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="/" class="brand">
        <span>Painel Admin</span>
      </a>
      <nav class="main-nav">
        <a href="/">Ver site</a>
      </nav>
    </div>
  </header>

  <main class="container admin-main">
    <section id="loginSection" class="admin-card">
      <h1>Entrar no painel</h1>
      <p>Faça login para cadastrar veículos e publicar fotos.</p>
      <form id="loginForm" class="admin-form grid-2">
        <label>Usuário
          <input type="text" name="username" required placeholder="je2026">
        </label>
        <label>Senha
          <input type="password" name="password" required placeholder="••••••••">
        </label>
        <div class="full">
          <button class="btn-primary" type="submit">Entrar</button>
        </div>
      </form>
      <p id="loginMessage" class="admin-message"></p>
    </section>

    <section id="panelSection" class="admin-layout hidden">
      <aside class="admin-sidebar admin-card">
        <h3>Atalhos</h3>
        <nav class="admin-side-nav">
          <a href="#sec-veiculos">Veículos</a>
          <a href="#sec-vendedores">Vendedores</a>
          <a href="#sec-banners">Banners/Ofertas</a>
          <a href="#sec-mural">Mural de Vendidos</a>
          <a href="#sec-config">Sobre e Contato</a>
          <a href="#sec-senha">Senha do painel</a>
          <hr>
          <a href="#vehicle-model">Campo: Modelo</a>
          <a href="#vehicle-price">Campo: Preço</a>
          <a href="#seller-name">Campo: Nome vendedor</a>
          <a href="#banner-title">Campo: Título banner</a>
          <a href="#store-phone">Campo: Telefone loja</a>
          <a href="#store-address">Campo: Endereço loja</a>
          <a href="#store-email">Campo: Email loja</a>
        </nav>
      </aside>

      <div class="admin-stack">
      <p id="billingNotice" class="admin-message hidden"></p>
      <section id="sec-veiculos" class="admin-card">
        <div class="admin-head">
          <h2>Cadastro de veículos</h2>
          <button id="logoutBtn" class="btn-secondary" type="button">Sair</button>
        </div>

        <form id="vehicleForm" class="admin-form grid-2" enctype="multipart/form-data">
          <input type="hidden" name="id">
          <label>Modelo
            <input id="vehicle-model" type="text" name="model" required placeholder="Ex.: Fiat Argo Drive">
          </label>
          <label>Ano
            <input type="text" name="year" required inputmode="numeric" maxlength="4" placeholder="Ex.: 2020">
          </label>
          <label>KM
            <input type="text" name="km" placeholder="Ex.: 62.000 km">
          </label>
          <label>Combustível
            <input type="text" name="fuel" placeholder="Ex.: Flex">
          </label>
          <label>Câmbio
            <input type="text" name="transmission" placeholder="Ex.: Manual">
          </label>
          <label>Status
            <input type="text" name="status" placeholder="Ex.: Disponível">
          </label>
          <label>Marcar como vendido
            <select name="sold">
              <option value="false">Não</option>
              <option value="true">Sim</option>
            </select>
          </label>
          <label>Preço (R$)
            <input id="vehicle-price" type="number" name="price" required min="1" step="1" placeholder="68900">
          </label>
          <label>Fotos do veículo (até 20 fotos)
            <input type="file" name="photos" accept="image/*" multiple>
          </label>
          <label>Vídeos do veículo (opcional)
            <input type="file" name="videos" accept="video/*" multiple>
          </label>
          <div class="full admin-actions">
            <button class="btn-primary" type="submit">Salvar veículo</button>
            <button class="btn-secondary" type="button" id="cancelVehicleEditBtn">Cancelar edição</button>
          </div>
        </form>

        <p id="vehicleMessage" class="admin-message"></p>
        <div id="adminVehicleList" class="admin-list"></div>
      </section>

      <section id="sec-vendedores" class="admin-card">
        <div class="admin-head">
          <h2>Cadastro de vendedores</h2>
        </div>
        <form id="sellerForm" class="admin-form grid-2" enctype="multipart/form-data">
          <input type="hidden" name="id">
          <label>Nome
            <input id="seller-name" type="text" name="name" required placeholder="Ex.: Carlos Mendes">
          </label>
          <label>Cargo
            <input type="text" name="role" placeholder="Ex.: Consultor de vendas">
          </label>
          <label>Telefone
            <input type="text" name="phone" placeholder="Ex.: (41) 99999-9999">
          </label>
          <label>WhatsApp (somente números)
            <input type="text" name="whatsapp" placeholder="Ex.: 5541999999999">
          </label>
          <label>Status
            <input type="text" name="status" placeholder="Ex.: Online">
          </label>
          <label class="full">Trocar foto do vendedor (opcional na edição)
            <input id="seller-photo" type="file" name="photo" accept="image/*">
            <small class="field-help">Ao editar um vendedor, selecione uma nova foto aqui para substituir a atual.</small>
          </label>
          <p id="sellerPhotoHint" class="admin-message full"></p>
          <label class="full">Bio
            <input type="text" name="bio" placeholder="Ex.: Especialista em seminovos e financiamento.">
          </label>
          <div class="full admin-actions">
            <button class="btn-primary" type="submit">Salvar vendedor</button>
            <button class="btn-secondary" type="button" id="cancelSellerEditBtn">Cancelar edição</button>
          </div>
        </form>

        <p id="sellerMessage" class="admin-message"></p>
        <div id="adminSellerList" class="admin-list"></div>
      </section>

      <section id="sec-banners" class="admin-card">
        <div class="admin-head">
          <h2>Banners / Ofertas (topo do site)</h2>
        </div>
        <form id="bannerForm" class="admin-form grid-2" enctype="multipart/form-data">
          <input type="hidden" name="id">
          <label>Título do banner
            <input id="banner-title" type="text" name="title" required placeholder="Ex.: Feirão de seminovos">
          </label>
          <label>Subtítulo
            <input type="text" name="subtitle" placeholder="Ex.: Condições especiais nesta semana">
          </label>
          <label>Texto do botão
            <input type="text" name="ctaText" placeholder="Ex.: Ver ofertas">
          </label>
          <label>Link do botão
            <input type="text" name="ctaLink" placeholder="Ex.: #estoque ou https://...">
          </label>
          <label>Ordem de exibição
            <input type="number" name="order" min="0" step="1" placeholder="0">
          </label>
          <label>Ativo
            <select name="isActive">
              <option value="true">Sim</option>
              <option value="false">Não</option>
            </select>
          </label>
          <label class="full">Imagem do banner
            <input type="file" name="image" accept="image/*">
          </label>
          <div class="full admin-actions">
            <button class="btn-primary" type="submit">Salvar banner</button>
            <button class="btn-secondary" type="button" id="cancelBannerEditBtn">Cancelar edição</button>
          </div>
        </form>

        <p id="bannerMessage" class="admin-message"></p>
        <div id="adminBannerList" class="admin-list"></div>
      </section>

      <section id="sec-mural" class="admin-card">
        <div class="admin-head">
          <h2>Mural de vendidos</h2>
        </div>

        <form id="wallForm" class="admin-form grid-2" enctype="multipart/form-data">
          <label>Nome do cliente
            <input type="text" name="clientName" placeholder="Ex.: João Silva" required>
          </label>
          <label>Veículo vendido
            <input type="text" name="vehicleModel" placeholder="Ex.: Onix 1.0 2022" required>
          </label>
          <label class="full">Mensagem (opcional)
            <input type="text" name="message" placeholder="Ex.: Entrega realizada com sucesso!">
          </label>
          <label class="full">Foto com cliente
            <input type="file" name="photo" accept="image/*" required>
          </label>
          <div class="full admin-actions">
            <button class="btn-primary" type="submit">Publicar no mural</button>
          </div>
        </form>

        <p id="wallMessage" class="admin-message"></p>
        <div id="adminWallList" class="admin-list"></div>
      </section>

      <section id="sec-config" class="admin-card">
        <div class="admin-head">
          <h2>Sobre nós e contato da loja</h2>
        </div>

        <form id="settingsForm" class="admin-form grid-2">
          <label>Sobre nós — título
            <input type="text" name="aboutTitle" placeholder="Ex.: Sobre a JE Automóveis">
          </label>
          <label>Telefone da loja
            <input id="store-phone" type="text" name="storePhone" placeholder="Ex.: (41) 99999-9999">
          </label>
          <label>WhatsApp da loja (somente números)
            <input id="store-whatsapp" type="text" name="storeWhatsapp" placeholder="Ex.: 5541999999999">
          </label>
          <label class="full">Sobre nós — texto
            <input type="text" name="aboutText" placeholder="Texto de apresentação da loja">
          </label>
          <label class="full">Destaques (1 por linha)
            <textarea name="aboutHighlights" rows="4" placeholder="Veículos revisados&#10;Apoio na documentação&#10;Atendimento rápido"></textarea>
          </label>
          <label class="full">Endereço da loja
            <input id="store-address" type="text" name="storeAddress" placeholder="Ex.: Rua Exemplo, 123 — Cidade">
          </label>
          <label class="full">Email da loja
            <input id="store-email" type="email" name="storeEmail" placeholder="Ex.: contato@jeautomoveis.com">
          </label>
          <label>Cor do selo (iniciais)
            <input type="color" name="brandBadgeColor" value="#d32f2f">
          </label>
          <label class="full">Foto de fundo da capa (hero)
            <input id="hero-background-image" type="file" name="heroBackgroundImage" accept="image/*">
            <small class="field-help">Essa imagem aparece no topo da home da loja, atrás do texto principal.</small>
          </label>

          <div class="full admin-actions">
            <button class="btn-primary" type="submit">Salvar informações da loja</button>
            <button class="btn-secondary" type="button" id="uploadHeroImageBtn">Enviar foto de fundo</button>
          </div>
        </form>

        <p id="settingsMessage" class="admin-message"></p>
      </section>

      <section id="sec-senha" class="admin-card hidden">
        <div class="admin-head">
          <h2>Alterar senha do painel</h2>
        </div>

        <form id="passwordForm" class="admin-form grid-2">
          <label>Senha atual
            <input type="password" name="currentPassword" required placeholder="Digite a senha atual">
          </label>
          <label>Nova senha
            <input type="password" name="newPassword" required minlength="6" placeholder="Mínimo 6 caracteres">
          </label>
          <label class="full">Confirmar nova senha
            <input type="password" name="confirmPassword" required minlength="6" placeholder="Repita a nova senha">
          </label>

          <div class="full admin-actions">
            <button class="btn-primary" type="submit">Alterar senha</button>
          </div>
        </form>

        <p id="passwordMessage" class="admin-message"></p>
      </section>
      </div>
    </section>
  </main>

  <script src="/admin.js"></script>
</body>
</html>
